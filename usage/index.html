<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://NanoComponents.github.io/http/usage/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Usage Guide - Nano HTTP Request Component</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Usage Guide";
        var mkdocs_page_input_path = "usage.md";
        var mkdocs_page_url = "/http/usage/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../images/logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Usage Guide</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#initialization">Initialization</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#query-parameters">Query Parameters</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#form-data">Form Data</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#file-uploads">File Uploads</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#single-file">Single File</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multiple-files">Multiple Files</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nested-files">Nested Files</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#error-handling">Error Handling</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cookies">Cookies</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#session">Session</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#server-data">Server Data</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#stream-input">Stream Input</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../api-reference/">API Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../architecture/">Architecture Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../changelog/">Changelog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Nano HTTP Request Component</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Usage Guide</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h1>
<h2 id="initialization">Initialization<a class="headerlink" href="#initialization" title="Permanent link">&para;</a></h2>
<p>Create a <code>Request</code> instance with superglobals:
<div class="highlight"><pre><span></span><code><span class="x">use NanoLibs\Http\Request;</span>
<span class="x">$request = Request::initialize();</span>
</code></pre></div></p>
<h2 id="query-parameters">Query Parameters<a class="headerlink" href="#query-parameters" title="Permanent link">&para;</a></h2>
<p>Access <code>$_GET</code> data, including nested arrays and special characters:
<div class="highlight"><pre><span></span><code><span class="x">$_GET = [&#39;user&#39; =&gt; [&#39;name&#39; =&gt; &#39;Iman&#39;], &#39;search&#39; =&gt; &#39;query%20with%20spaces&#39;];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">echo $request-&gt;getQuery()-&gt;get(&#39;user&#39;)[&#39;name&#39;]; // &quot;Iman&quot;</span>
<span class="x">echo $request-&gt;getQuery()-&gt;get(&#39;search&#39;);       // &quot;query with spaces&quot;</span>
</code></pre></div></p>
<h2 id="form-data">Form Data<a class="headerlink" href="#form-data" title="Permanent link">&para;</a></h2>
<p>Handle <code>$_POST</code> with arrays and UTF-8:
<div class="highlight"><pre><span></span><code><span class="x">$_POST = [&#39;tags&#39; =&gt; [&#39;php&#39;, &#39;zend&#39;], &#39;message&#39; =&gt; &#39;こんにちは&#39;];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">$tags = $request-&gt;getForm()-&gt;get(&#39;tags&#39;); // [&#39;php&#39;, &#39;zend&#39;]</span>
<span class="x">echo $request-&gt;getForm()-&gt;get(&#39;message&#39;); // &quot;こんにちは&quot;</span>
</code></pre></div></p>
<h2 id="file-uploads">File Uploads<a class="headerlink" href="#file-uploads" title="Permanent link">&para;</a></h2>
<h3 id="single-file">Single File<a class="headerlink" href="#single-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="x">$_FILES = [&#39;avatar&#39; =&gt; [&#39;name&#39; =&gt; &#39;pic.jpg&#39;, &#39;type&#39; =&gt; &#39;image/jpeg&#39;, &#39;tmp_name&#39; =&gt; &#39;/tmp/php123&#39;, &#39;error&#39; =&gt; 0, &#39;size&#39; =&gt; 2000, &#39;full_path&#39; =&gt; &#39;pic.jpg&#39;]];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">$file = $request-&gt;getFile(&#39;avatar&#39;)-&gt;getAll()[0];</span>
<span class="x">echo $file-&gt;getFileName(); // &quot;pic.jpg&quot;</span>
</code></pre></div>
<h3 id="multiple-files">Multiple Files<a class="headerlink" href="#multiple-files" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="x">$_FILES = [&#39;docs&#39; =&gt; [&#39;name&#39; =&gt; [&#39;doc1.pdf&#39;, &#39;doc2.pdf&#39;], &#39;type&#39; =&gt; [&#39;application/pdf&#39;, &#39;application/pdf&#39;], &#39;tmp_name&#39; =&gt; [&#39;/tmp/php1&#39;, &#39;/tmp/php2&#39;], &#39;error&#39; =&gt; [0, 0], &#39;size&#39; =&gt; [3000, 4000], &#39;full_path&#39; =&gt; [&#39;doc1.pdf&#39;, &#39;doc2.pdf&#39;]]];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">$files = $request-&gt;getFile(&#39;docs&#39;)-&gt;getAll();</span>
<span class="x">echo count($files); // 2</span>
</code></pre></div>
<h3 id="nested-files">Nested Files<a class="headerlink" href="#nested-files" title="Permanent link">&para;</a></h3>
<p>Access nested files using dot-notation:
<div class="highlight"><pre><span></span><code><span class="x">$_FILES = [&#39;user&#39; =&gt; [&#39;name&#39; =&gt; [&#39;documents&#39; =&gt; [&#39;resume.pdf&#39;]], &#39;type&#39; =&gt; [&#39;documents&#39; =&gt; [&#39;application/pdf&#39;]], &#39;tmp_name&#39; =&gt; [&#39;documents&#39; =&gt; [&#39;/tmp/php123&#39;]], &#39;error&#39; =&gt; [&#39;documents&#39; =&gt; [0]], &#39;size&#39; =&gt; [&#39;documents&#39; =&gt; [5000]], &#39;full_path&#39; =&gt; [&#39;documents&#39; =&gt; [&#39;resume.pdf&#39;]]]];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">$file = $request-&gt;getFile(&#39;user.documents&#39;)-&gt;getAll()[0];</span>
<span class="x">echo $file-&gt;getFieldNameSuffix(); // &quot;user.documents&quot;</span>
<span class="x">echo $file-&gt;getFileName();        // &quot;resume.pdf&quot;</span>
</code></pre></div></p>
<h3 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="x">$_FILES = [&#39;file&#39; =&gt; [&#39;name&#39; =&gt; &#39;large.exe&#39;, &#39;type&#39; =&gt; &#39;application/octet-stream&#39;, &#39;tmp_name&#39; =&gt; &#39;/tmp/php123&#39;, &#39;error&#39; =&gt; 1, &#39;size&#39; =&gt; 5000000, &#39;full_path&#39; =&gt; &#39;large.exe&#39;]];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">$errors = $request-&gt;getFile(&#39;file&#39;)-&gt;getErrorMessages();</span>
<span class="x">echo $errors[0]; // &quot;The uploaded file exceeds the upload_max_filesize directive in php.ini.&quot;</span>
</code></pre></div>
<h2 id="cookies">Cookies<a class="headerlink" href="#cookies" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="x">$_COOKIE = [&#39;user_id&#39; =&gt; &#39;123&#39;, &#39;is_admin&#39; =&gt; &#39;true&#39;];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">echo $request-&gt;getCookie()-&gt;get(&#39;user_id&#39;);   // &quot;123&quot;</span>
<span class="x">$allCookies = $request-&gt;getCookie()-&gt;getAll(); // [&#39;user_id&#39; =&gt; &#39;123&#39;, &#39;is_admin&#39; =&gt; &#39;true&#39;]</span>
</code></pre></div>
<h2 id="session">Session<a class="headerlink" href="#session" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="x">$_SESSION = [&#39;user_id&#39; =&gt; &#39;12345&#39;, &#39;auth&#39; =&gt; true];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">echo $request-&gt;getSession()-&gt;get(&#39;user_id&#39;); // &quot;12345&quot;</span>
</code></pre></div>
<h2 id="server-data">Server Data<a class="headerlink" href="#server-data" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="x">$_SERVER = [&#39;REQUEST_METHOD&#39; =&gt; &#39;POST&#39;, &#39;HTTPS&#39; =&gt; &#39;on&#39;];</span>
<span class="x">$request = Request::initialize();</span>
<span class="x">echo $request-&gt;getServer()-&gt;get(&#39;REQUEST_METHOD&#39;); // &quot;POST&quot;</span>
</code></pre></div>
<h2 id="stream-input">Stream Input<a class="headerlink" href="#stream-input" title="Permanent link">&para;</a></h2>
<p>Process raw request bodies (e.g., JSON):
<div class="highlight"><pre><span></span><code><span class="x">$service = $request-&gt;getStreamInput();</span>
<span class="x">$service-&gt;toArray(); // e.g., [&#39;name&#39; =&gt; &#39;John&#39;] from &#39;{&quot;name&quot;: &quot;John&quot;}&#39;</span>
</code></pre></div></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../installation/" class="btn btn-neutral float-left" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../api-reference/" class="btn btn-neutral float-right" title="API Reference">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../installation/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../api-reference/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
